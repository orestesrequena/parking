<template>
  <div class="page">
    <div class="navbar">
      <div class="navbar-inner sliding">
        <div class="left">
          <a href="#" class="link back">
            <i class="icon icon-back"></i>
            <span class="ios-only">Back</span>
          </a>
        </div>
        <div class="title">Liste des parkings</div>
      </div>
    </div>
    <div class="searchbar-backdrop"></div>
    <div class="page-content">
      <div class="list simple-list searchbar-not-found">
        <ul>
          <li>Nothing found</li>
        </ul>
      </div>
      <div class="list virtual-list media-list searchbar-found"></div>
    </div>
  </div>
</template>
<script>
 return {
    on: {
      pageBeforeRemove: function () {
        virtualList.destroy();
      },
      pageInit: function() {

          var virtualList = app.virtualList.create({
            // List Element
            el: '.virtual-list',
            items: [],
            // List item Template7 template
            itemTemplate:
            '<li>' +
              '<a href="#" class="item-link item-content">' +
                '<div class="item-inner">' +
                  '<div class="item-title-row">' +
                    '<div class="item-title">{{records.fields.libelle}}</div>' +
                  '</div>' +
                  '<div class="item-subtitle">{{records.fields.ville}}</div>' +
                  
                  '<div class="item-subtitle">{{disponibilite}}</div>' +
                '</div>' +
              '</a>' +
            '</li>',
            // Item height
            height: app.theme === 'ios' ? 63 : 73,
          });

          getParkings(virtualList);


      }
    }
  };
</script>
